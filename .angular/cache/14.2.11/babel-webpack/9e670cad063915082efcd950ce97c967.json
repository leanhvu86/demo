{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AdminLayoutComponent = void 0;\n\nconst common_1 = require(\"@angular/common\");\n\nconst router_1 = require(\"@angular/router\");\n\nconst perfect_scrollbar_1 = require(\"perfect-scrollbar\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nconst i0 = require(\"@angular/core\");\n\nconst i1 = require(\"@angular/common\");\n\nconst i2 = require(\"@angular/router\");\n\nconst i3 = require(\"../../shared/navbar/navbar.component\");\n\nconst i4 = require(\"../../shared/footer/footer.component\");\n\nconst i5 = require(\"../../sidebar/sidebar.component\");\n\nfunction AdminLayoutComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"footer-cmp\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nclass AdminLayoutComponent {\n  constructor(location, router) {\n    this.location = location;\n    this.router = router;\n    this.yScrollStack = [];\n  }\n\n  ngOnInit() {\n    console.log(this.router);\n    const isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;\n\n    if (isWindows) {\n      // if we are on windows OS we activate the perfectScrollbar function\n      document.getElementsByTagName('body')[0].classList.add('perfect-scrollbar-on');\n    } else {\n      document.getElementsByTagName('body')[0].classList.remove('perfect-scrollbar-off');\n    }\n\n    const elemMainPanel = document.querySelector('.main-panel');\n    const elemSidebar = document.querySelector('.sidebar .sidebar-wrapper');\n    this.location.subscribe(ev => {\n      this.lastPoppedUrl = ev.url;\n    });\n    this.router.events.subscribe(event => {\n      if (event instanceof router_1.NavigationStart) {\n        if (event.url != this.lastPoppedUrl) this.yScrollStack.push(window.scrollY);\n      } else if (event instanceof router_1.NavigationEnd) {\n        if (event.url == this.lastPoppedUrl) {\n          this.lastPoppedUrl = undefined;\n          window.scrollTo(0, this.yScrollStack.pop());\n        } else window.scrollTo(0, 0);\n      }\n    });\n    this._router = this.router.events.pipe((0, rxjs_1.filter)(event => event instanceof router_1.NavigationEnd)).subscribe(event => {\n      elemMainPanel.scrollTop = 0;\n      elemSidebar.scrollTop = 0;\n    });\n\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      let ps = new perfect_scrollbar_1.default(elemMainPanel);\n      ps = new perfect_scrollbar_1.default(elemSidebar);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.runOnRouteChange();\n  }\n\n  isMap(path) {\n    var titlee = this.location.prepareExternalUrl(this.location.path());\n    titlee = titlee.slice(1);\n\n    if (path == titlee) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  runOnRouteChange() {\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      const elemMainPanel = document.querySelector('.main-panel');\n      const ps = new perfect_scrollbar_1.default(elemMainPanel);\n      ps.update();\n    }\n  }\n\n  isMac() {\n    let bool = false;\n\n    if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n      bool = true;\n    }\n\n    return bool;\n  }\n\n}\n\nexports.AdminLayoutComponent = AdminLayoutComponent;\n\nAdminLayoutComponent.ɵfac = function AdminLayoutComponent_Factory(t) {\n  return new (t || AdminLayoutComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nAdminLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminLayoutComponent,\n  selectors: [[\"app-admin-layout\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[1, \"wrapper\"], [\"data-color\", \"red\", \"data-image\", \"\", 1, \"sidebar\"], [1, \"sidebar-background\", 2, \"background-image\", \"url(assets/img/sidebar-5.jpg)\"], [1, \"main-panel\"], [4, \"ngIf\"]],\n  template: function AdminLayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"app-sidebar\")(3, \"div\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelement(5, \"navbar-cmp\")(6, \"router-outlet\");\n      i0.ɵɵtemplate(7, AdminLayoutComponent_div_7_Template, 2, 0, \"div\", 4);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.isMap(\"maps\"));\n    }\n  },\n  dependencies: [i1.NgIf, i2.RouterOutlet, i3.NavbarComponent, i4.FooterComponent, i5.SidebarComponent]\n});","map":null,"metadata":{},"sourceType":"script"}